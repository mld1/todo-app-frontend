(this.webpackJsonptodolist_frontend=this.webpackJsonptodolist_frontend||[]).push([[0],{10:function(e,t,a){},21:function(e,t,a){e.exports=a(46)},26:function(e,t,a){},27:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(8),r=a.n(o),c=(a(26),a(3)),l=a(4),i=a(6),d=a(5),m=a(7),u=(a(27),a(2)),p=a.n(u),h=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).updateTasks=function(e){var t=a.state.completedTasks.slice();t.push(e),a.setState({completedTasks:t})},a.handleDelete=function(e){a.props.deleteTaskFunc(a.props.id)},a.handleComplete=function(e){a.props.completedTaskFunc(a.props.id)},a.handleUndo=function(e){a.props.undoTaskFunc(a.props.id)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:this.props.completed?"completed row p-2 rowmargin":"row p-2 grey rowmargin"},s.a.createElement("div",{className:p()(this.props.dueBy).isAfter(p()())?"col-4":"col-4 redText"},s.a.createElement("strong",null," ",this.props.text)),s.a.createElement("div",{className:"col-2"},s.a.createElement("button",{type:"button",className:"btn btn-light",onClick:this.handleDelete},s.a.createElement("i",{className:"fa fa-trash"}))),s.a.createElement("div",{className:"col-2"},s.a.createElement("button",{type:"button",className:"btn btn-dark"},this.props.completed?s.a.createElement("i",{className:"fa fa-undo",onClick:this.handleUndo}):s.a.createElement("i",{className:"fa fa-check greenCheck",onClick:this.handleComplete}))),s.a.createElement("div",{className:p()(this.props.dueBy).isAfter(p()())?"col-2":"col-2 redText"},s.a.createElement("p",null,p()(this.props.date).format("YYYY-MM-DD"))),s.a.createElement("div",{className:p()(this.props.dueBy).isAfter(p()())?"col-2":"col-2 redText"},s.a.createElement("p",null,"Due ",p()(this.props.dueBy,"YYYY-MM-DD").fromNow())))}}]),t}(s.a.Component),k=a(9),f=a.n(k),v=(a(10),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={newTaskText:"",dateSelected:"",showModal:!1},a.updateTaskText=function(e){a.setState({newTaskText:e.target.value})},a.handleClick=function(){"string"!==typeof a.state.newTaskText||""===a.state.newTaskText?a.setState({showModal:!0}):(a.props.addTaskFunc(a.state.newTaskText,a.state.dateSelected),a.setState({newTaskText:""}))},a.handleModalDismiss=function(){a.setState({showModal:!1})},a.handleDateChange=function(e){a.setState({dateSelected:e.target.value})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"row p-2"},s.a.createElement("div",{className:this.state.showModal?"modal isVisible":"modal",tabIndex:"-1",role:"dialog"},s.a.createElement("div",{className:"modal-dialog",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},"Oops, you forgot to add the task content"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:this.handleModalDismiss},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null," ","Do not let circumstances control you. You change your circumstances. - JC")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:this.handleModalDismiss},"Ok"))))),s.a.createElement("div",{className:"col-9 col-md-5"},s.a.createElement("input",{type:"text",className:"form-control addTaskTextArea","aria-describedby":"text",placeholder:"E.g. take out bins",value:this.state.newTaskText,onChange:this.updateTaskText})),s.a.createElement("div",{className:"col-2 col-md-5"},s.a.createElement("div",{className:"form-group mx-sm-3 mb-2"},s.a.createElement("input",{className:"form-control",type:"date",onChange:this.handleDateChange,value:this.state.dateSelected}))),s.a.createElement("div",{className:"col-1 col-mb-2"},s.a.createElement("button",{id:"addButton",className:"btn btn-dark addTaskButton",onClick:this.handleClick},s.a.createElement("i",{className:"fa fa-plus"}," ")," ")))}}]),t}(s.a.Component)),E=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"col-8"},s.a.createElement("h4",{className:"rowmargin"},"You have ",s.a.createElement("strong",null,this.props.count)," tasks:"," "))}}]),t}(s.a.Component),b=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={showDropdown:!1},a.handleSortMenu=function(){!1===a.state.showDropdown?a.setState({showDropdown:!0}):a.setState({showDropdown:!1})},a.handleSortOption=function(e){a.props.sortByFunc(e),a.handleSortMenu()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this;return e="due"===this.props.sortOption?"Sorted By Date Due":"created"===this.props.sortOption?"Sorted By Date Created":"Sort By",s.a.createElement("div",{className:"col-4"},s.a.createElement("div",{className:"btn-group"},s.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:this.handleSortMenu},e),s.a.createElement("div",{className:this.state.showDropdown?"dropdown-menu isVisible":"dropdown-menu"},s.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return t.handleSortOption("created")}},"Date Created"),s.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return t.handleSortOption("due")}},"Date Due"))))}}]),t}(s.a.Component),T=a(11),g=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={tasks:[],incompleteSortOption:""},a.addTask=function(e,t){var n={Completed:!1,DateCreated:p()().format("YYYY-MM-DD"),DateDue:t,Text:e,UserId:1};console.log("from axios addTask "+n.DateCreated);var s=a.state.tasks.slice();f.a.post("https://cr5ghnlv41.execute-api.eu-west-2.amazonaws.com/dev/tasks/",n).then((function(e){console.log(e);var t=e.data;s.push(t),a.setState({tasks:s})})).catch((function(e){return console.log("Error creating task",e)}))},a.deleteTask=function(e){f.a.delete("https://cr5ghnlv41.execute-api.eu-west-2.amazonaws.com/dev/tasks/"+e).then((function(t){console.log(t);var n=a.state.tasks.filter((function(t){return t.TaskID!==e}));a.setState({tasks:n}),console.log(a.state.birthdays)})).catch((function(e){return console.log("Error deleting task",e)}))},a.editTask=function(e,t){var n={Completed:t};f.a.put("https://cr5ghnlv41.execute-api.eu-west-2.amazonaws.com/dev/tasks/"+e,n).then((function(n){var s=a.state.tasks.map((function(a){return a.TaskID===e&&(a.Completed=t),a}));a.setState({tasks:s})})).catch((function(e){return console.log("Error editing task",e)}))},a.completeTask=function(e){var t=a.state.tasks.map((function(t){return t.TaskID===e&&(t.Completed=!0,a.editTask(t.TaskID,t.Completed)),t}));a.setState({tasks:t})},a.undoTask=function(e){var t=a.state.tasks.map((function(t){return t.TaskID===e&&(t.Completed=!1),t}));a.setState({tasks:t})},a.countTasksCompleted=function(e){var t=0;return!0===e.completed&&t++,t},a.sortBy=function(e){var t=a.state.tasks.sort((function(t,a){return"created"===e?t.DateCreated<a.DateCreated?-1:1:"due"===e?t.DateDue<a.DateDue?-1:1:void 0}));a.setState({tasks:t})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("https://cr5ghnlv41.execute-api.eu-west-2.amazonaws.com/dev/tasks/").then((function(t){var a=t.data;e.setState({tasks:a.tasks})})).catch((function(e){console.log("Error getting tasks data",e)}))}},{key:"render",value:function(){var e=this;console.log(this.state.tasks);var t=this.state.tasks.filter((function(e){return!0===e.Completed})),a=this.state.tasks.filter((function(e){return!e.Completed}));return s.a.createElement("div",{className:"container"},s.a.createElement("header",null,s.a.createElement("h1",null,s.a.createElement("span",{className:"h1Letter"},"To Do "),s.a.createElement("span",{className:"list"},s.a.createElement("u",null,"List"))),s.a.createElement("h6",null,"Don't try to be like Jackie. There is only one Jackie. Study computers instead.")),s.a.createElement("br",{className:"grey"}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("br",{className:"grey"}),s.a.createElement(v,{addTaskFunc:this.addTask}))),s.a.createElement("div",{className:"row p-2"},s.a.createElement(E,{count:this.state.tasks.length}),s.a.createElement(b,{sortByFunc:this.sortBy,sortOption:this.state.incompleteSortOption})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement(T.a,{duration:250,easing:"ease-out",enterAnimation:{from:{duration:1050,transform:"rotateY(180deg)",opacity:.1},to:{transform:""}},leaveAnimation:{from:{transform:""},to:{duration:1050,transform:"rotateY(-120deg)",opacity:.1}}},a.map((function(t){return s.a.createElement(h,{text:t.Text,completed:t.Completed,key:t.TaskID,deleteTaskFunc:e.deleteTask,completedTaskFunc:e.completeTask,id:t.TaskID,date:t.DateCreated,dueBy:t.DateDue})}))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("br",{className:"grey"}),s.a.createElement("br",{className:"grey"}),s.a.createElement(T.a,{duration:250,easing:"ease-out"},t.map((function(t){return s.a.createElement(h,{text:t.Text,completed:t.Completed,key:t.TaskID,deleteTaskFunc:e.deleteTask,undoTaskFunc:e.undoTask,id:t.TaskID,date:t.DateCreated,dueBy:t.DateDue})}))))))}}]),t}(s.a.Component);r.a.render(s.a.createElement(g,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.c71f4c60.chunk.js.map